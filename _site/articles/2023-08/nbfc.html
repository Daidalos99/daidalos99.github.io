<!DOCTYPE html>
<html lang="en">





<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="description" content="우분투에서 노트북 팬 돌리기 및 속도 조절 (nbfc)나는 Gigabyte사의 Aero 15SB 노트북 모델을 사용중이다. 이번 방학에 우연히 Morai Simulator를 접해볼 기회를 얻게 되었는데, 이 시뮬레이션은 상당한 GPU를 필요로 하였다.다행이 내 노트북은 gtx 16...">
  <meta name="keywords" content="blog, jekyll, code, C++, cpp, and simulation">
  <meta name="author" content="우분투에서 노트북 팬 돌리기(nbfc) | daidalos99">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#f5f5f5">

  <!-- Twitter Tags -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="우분투에서 노트북 팬 돌리기(nbfc) | daidalos99">
  <meta name="twitter:description" content="우분투에서 노트북 팬 돌리기 및 속도 조절 (nbfc)나는 Gigabyte사의 Aero 15SB 노트북 모델을 사용중이다. 이번 방학에 우연히 Morai Simulator를 접해볼 기회를 얻게 되었는데, 이 시뮬레이션은 상당한 GPU를 필요로 하였다.다행이 내 노트북은 gtx 16...">
  
    <meta property="twitter:image" content="http://localhost:4000/img/leonids-logo.png">
  

  <!-- Open Graph Tags -->
  <meta property="og:type" content="blog">
  <meta property="og:url" content="http://localhost:4000/articles/2023-08/nbfc">
  <meta property="og:title" content="우분투에서 노트북 팬 돌리기(nbfc) | daidalos99">
  <meta property="og:description" content="우분투에서 노트북 팬 돌리기 및 속도 조절 (nbfc)나는 Gigabyte사의 Aero 15SB 노트북 모델을 사용중이다. 이번 방학에 우연히 Morai Simulator를 접해볼 기회를 얻게 되었는데, 이 시뮬레이션은 상당한 GPU를 필요로 하였다.다행이 내 노트북은 gtx 16...">
  
    <meta property="og:image" content="http://localhost:4000/img/leonids-logo.png">
  
  <title>우분투에서 노트북 팬 돌리기(nbfc) | daidalos99</title>

  <!-- CSS files -->
  <link rel="stylesheet" href="http://localhost:4000/css/font-awesome.min.css">
  <link rel="stylesheet" href="http://localhost:4000/css/main.css">

  <link rel="canonical" href="http://localhost:4000/articles/2023-08/nbfc">
  <link rel="alternate" type="application/rss+xml" title="daidalos99" href="http://localhost:4000/feed.xml" />

  <!-- Icons -->
  <!-- 16x16 -->
  <link rel="shortcut icon" href="http://localhost:4000/favicon.ico">
  <!-- 32x32 -->
  <link rel="shortcut icon" href="http://localhost:4000/favicon.png">
</head>


<body>
  <div class="row">
    <div class="col s12 m3">
      <div class="table cover">
        

<div class="cover-card table-cell table-middle">
  
  <a href="http://localhost:4000/">
    <img src="http://localhost:4000/img/leonids-logo.png" alt="" class="avatar">
  </a>
  
  <a href="http://localhost:4000/" class="author_name">daidalos99</a>
  <span class="author_job">developer & engineer</span>
  <span class="author_bio mbm">daidalos99's code vault</span>
  <nav class="nav">
    <ul class="nav-list">
      <li class="nav-item">
        <a href="http://localhost:4000/">home</a>
      </li>
         
      <li class="nav-item">
        <a href="http://localhost:4000/archive/">Archive</a>
      </li>
            
      <li class="nav-item">
        <a href="http://localhost:4000/categories/">Categories</a>
      </li>
          
      <li class="nav-item">
        <a href="http://localhost:4000/resume/">Resume</a>
      </li>
        
      <li class="nav-item">
        <a href="http://localhost:4000/tags/">Tags</a>
      </li>
         
    </ul>
  </nav>
  <script type="text/javascript">
  // based on http://stackoverflow.com/a/10300743/280842
  function gen_mail_to_link(hs, subject) {
    var lhs,rhs;
    var p = hs.split('@');
    lhs = p[0];
    rhs = p[1];
    document.write("<a class=\"social-link-item\" target=\"_blank\" href=\"mailto");
    document.write(":" + lhs + "@");
    document.write(rhs + "?subject=" + subject + "\"><i class=\"fa fa-fw fa-envelope\"></i><\/a>");
  }
</script>
<div class="social-links">
  <ul>
    
      <li>
      <script>gen_mail_to_link('daidalos0430@gmail.com', 'Hello from website');</script>
      </li>
    
    
    
    
    
    
    
    
    
    <li><a href="http://github.com/Daidalos99" class="social-link-item" target="_blank"><i class="fa fa-fw fa-github"></i></a></li>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
  </ul>
</div>

</div>

      </div>
    </div>
    <div class="col s12 m9">
      <div class="post-listing">
        <a class="btn" href= "http://localhost:4000/" >
  Home
</a>



<div id="post">
  <header class="post-header">
    <h1 title="우분투에서 노트북 팬 돌리기(nbfc)">우분투에서 노트북 팬 돌리기(nbfc)</h1>
    <span class="post-meta">
      <span class="post-date">
        19 AUG 2023
      </span>
      •
      <span class="read-time" title="Estimated read time">
  
  
    2 mins read
  
</span>

    </span>

  </header>

  <article class="post-content">
    <h2 id="우분투에서-노트북-팬-돌리기-및-속도-조절-nbfc">우분투에서 노트북 팬 돌리기 및 속도 조절 (nbfc)</h2>

<p>나는 Gigabyte사의 Aero 15SB 노트북 모델을 사용중이다. <br />
이번 방학에 우연히 Morai Simulator를 접해볼 기회를 얻게 되었는데, 이 시뮬레이션은 상당한 GPU를 필요로 하였다.<br />
다행이 내 노트북은 gtx 1660ti라는 명기를 가지고 있어 어느정도 버텨 주었지만, 우분투에서는 팬 속도조절이 안돼고, 내 경우에는 팬이 원하는데로 돌아가지 않아서 발열이 심했고, 그럴때마다 프로그램이 종료되었다.</p>

<p>그래서 열심이 구글링을 한 결과, 깃허브에 <strong>hirschmann</strong>이라는 사람(독일사람…?)이 만든 <strong>nbfc</strong>(<strong>N</strong>ote<strong>B</strong>ook <strong>F</strong>an <strong>C</strong>ontrol)라는 프로그램이 내 노트북에 효과가 있음을 알게 되었다.</p>

<p>나는 Ubuntu 20.04.6 LTS를 사용하지만, 윈도우나 타 리눅스에서도 가능한 것 같다.</p>

<p>근데 이게 굉장히 좋은데 반해, 한국 사용자가 정리해놓은 게시물은 별로 없고, 우분투에서의 사용법도 제대로 적혀있지 않아, 원본 github를 보아야 하는데, 영어를 어려워 하는 분들이 쉽게 따라할 수 있도록 내가 프로그램을 사용한 방법을 적어본다.</p>

<p>사용 전 알아야할 게 있다.</p>
<ul>
  <li>이 프로그램은 삼성/LG등 국내 제조사의 노트북은 지원되지 않는다.</li>
  <li>Asus, Acer, Dell, HP, Lenovo, Gigabyte… 등등의 서양 및 대만, 기타 유명한 제조사에서 만든 웬만한 노트북 종은 지원하는 것 같다.(듣보 제조사는 당연히 안됌)</li>
</ul>

<p>어쨌거나 이제 이 nbfc라는 프로그램을 사용해 보자. 깃허브 리포지토리 주소는 아래와 같다.</p>

<p><a href="https://github.com/hirschmann/nbfc/tree/master">https://github.com/hirschmann/nbfc/tree/master</a></p>

<p>여기서 Configs에 들어가면 아래와 같이 여러 노트북 모델들을 확인할 수 있는데, 자신의 노트북 모델이 없다면 자신의 노트북과 비슷한 모델명을 찾아서 사용해보면 될 가능성이 있다.</p>

<p><img src="/assets/img/etc/nbfc/nbfc_config.JPG" alt="nbfc_config" /></p>

<p>나의 경우 Gigabyte Aero 15SB인데, 그나마 비슷한 Gigabyte AERO 14KV8.xml이 있어서 이 파일을 적용했다.<br />
아무튼, 비슷한 모델명이 보이면 그 모델명을 외워두고, 쫌이따 사용할 것이다.</p>

<p>이제부터 잘 따라하면 된다.<br />
우선 이 리포지토리를 클론하자. (일단 위치는 상관 없음)</p>

<p>이제, nbfc를 빌드하기 위해서 <strong>mono</strong>라는 패키지를 설치해야 한다.<br />
터미널 창에서 아래 명령어를 따라하자.(이번에도 경로는 상관x)</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys 3FA7E0328081BFF6A14DA29AA6A19B38D3D831EF
echo "deb https://download.mono-project.com/repo/ubuntu stable-bionic main" | sudo tee /etc/apt/sources.list.d/mono-official-stable.list
sudo apt update
sudo apt install mono-complete
</code></pre></div></div>
<p>만약 타 운영체제에서 nbfc를 사용하고 싶다면, <a href="https://github.com/hirschmann/nbfc/wiki/How-to-build-NBFC#build-on-linux">이 링크</a>를 참고하여 빌드하자.</p>

<p>어쨌거나 위 명령어를 다 입력한 후, 다운받은 nbfc폴더에서 터미널을 켠 후 아래 명령어를 입력하여 빌드하자.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./build.sh
</code></pre></div></div>

<p>이렇게 하면 <strong>./Linux</strong>에 bin이라는 폴더가 생긴다.<br />
이제 아래 명령어를 입력하여 nbfc를 opt에 복사/붙여넣기 및 실행해보자.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo mkdir /opt/nbfc

# (자신의 경로)를 입력하자
sudo cp -r ~/(자신의 경로)/nbfc/Linux/bin/Release/* /opt/nbfc/
sudo cp ~/(자신의 경로)/nbfc/Linux/{nbfc.service,nbfc-sleep.service} /etc/systemd/system/

sudo systemctl enable nbfc --now

cd /opt/nbfc
mono nbfc.exe config --apply "아까 Configs에 있던 내 노트북 모델명, 혹은 비슷한 모델명을 입력"

mono nbfc.exe start
mono nbfc.exe status --all
</code></pre></div></div>

<p>이를 통해 설치를 완료하였다!<br />
이 과정은 <a href="https://github.com/hirschmann/nbfc/wiki/First-steps">이 링크</a>에서도 볼 수 있다.</p>

<p>이제 이놈을 어떻게 사용하냐!<br />
는 <a href="https://github.com/hirschmann/nbfc/wiki/Command-line-interface">이 링크</a>에 나와 있지만, 뭐 어려울 수 있으니 몇 가지 예시를 아래 써놓았다.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># 일단 nbfc.exe가 있는 경로에 진입
cd /opt/nbfc/

# 팬 상태 확인하는 법
mono nbfc.exe status -a

# 팬 자동으로 돌리기
mono nbfc.exe set -a

# 팬 속도 조절하기(pwm, 0~100, 100이면 풀파워)
mono nbfc.exe set -s 100
</code></pre></div></div>

<p>이 정도의 명령어를 자주 쓰게 되는데, 나는 귀찮기 때문에 아래와 같이 ~/.bashrc에 등록해버렸다.</p>

<p><img src="/assets/img/etc/nbfc/bashrc.png" alt="bashrc" /></p>

<p>상당히 편하다…!</p>

<p>1주일동안 사용해본 결과, 발견 및 생각한 점이 있다.</p>
<ul>
  <li>내 노트북의 경우, 팬이 2개가 있고 왼쪽이 cpu팬, 오른쪽이 gpu팬인듯 싶은데 이유를 모르겠으나 nbfc를 켜 놓으면 cpu쪽은 항상 돌아가는 반면 gpu쪽은 안돌아갈 때도 있다. pwm을 100으로 맞춰주더라도…</li>
  <li>아마도, gpu가 많이 필요한 작업이 아닐 때에는 cpu쪽의 팬만 돌려주는 것 같은 느낌이다.</li>
</ul>

<p>이번 포스팅은 여기까지다.</p>


  </article>
</div>

<div class="share-buttons">
  <h6>Share on: </h6>
  <ul>
    <li>
      <a href="https://twitter.com/intent/tweet?text=http://localhost:4000/articles/2023-08/nbfc" class="twitter btn" title="Share on Twitter"><i class="fa fa-twitter"></i><span> Twitter</span></a>
    </li>
    <li>
      <a href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:4000/articles/2023-08/nbfc" class="facebook btn" title="Share on Facebook"><i class="fa fa-facebook"></i><span> Facebook</span></a>
    </li>
    <li>
      <a href="https://plus.google.com/share?url=http://localhost:4000/articles/2023-08/nbfc" class="google-plus btn" title="Share on Google Plus"><i class="fa fa-google-plus"></i><span> Google+</span></a>
    </li>
    <li>
      <a href="https://news.ycombinator.com/submitlink?u=http://localhost:4000/articles/2023-08/nbfc" class="hacker-news btn" title="Share on Hacker News"><i class="fa fa-hacker-news"></i><span> Hacker News</span></a>
    </li>
    <li>
      <a href="https://www.reddit.com/submit?url=http://localhost:4000/articles/2023-08/nbfc" class="reddit btn" title="Share on Reddit"><i class="fa fa-reddit"></i><span> Reddit</span></a>
    </li>
  </ul>
</div><!-- end share-buttons -->


<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = 'https-daidalos99-github-io';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>



        <footer>
  &copy; 2024 daidalos99. Powered by <a href="http://jekyllrb.com/">Jekyll</a>, <a href="http://github.com/renyuanz/leonids/">leonids theme</a> made with <i class="fa fa-heart heart-icon"></i>
</footer>

      </div>
    </div>
  </div>
  <script type="text/javascript" src="http://localhost:4000/js/jquery-3.2.1.min.js"></script>
<script type="text/javascript" src="http://localhost:4000/js/main.js"></script>


</body>
</html>
